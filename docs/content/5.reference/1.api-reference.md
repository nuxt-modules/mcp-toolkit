---
title: API Reference
description: Complete API reference for the Nuxt MCP module.
navigation:
  icon: i-lucide-book
seo:
  title: API Reference - Nuxt MCP Module
  description: Complete API reference for all functions and types.
---

## defineMcpTool

Define an MCP tool that will be automatically registered.

### Signature

```typescript
function defineMcpTool<
  const InputSchema extends ZodRawShape,
  const OutputSchema extends ZodRawShape = ZodRawShape,
>(
  definition: McpToolDefinition<InputSchema, OutputSchema>
): McpToolDefinition<InputSchema, OutputSchema>
```

### Parameters

- `definition`: Tool definition object

### Returns

The tool definition (for type inference)

### Example

```typescript
export default defineMcpTool({
  name: 'example',
  inputSchema: {
    message: z.string(),
  },
  handler: async ({ message }) => {
    return {
      content: [{ type: 'text', text: message }],
    }
  },
})
```

## defineMcpResource

Define an MCP resource that will be automatically registered.

### Signature

```typescript
function defineMcpResource(
  definition: McpResourceDefinition
): McpResourceDefinition
```

### Parameters

- `definition`: Resource definition object

### Returns

The resource definition

### Example

```typescript
export default defineMcpResource({
  name: 'readme',
  uri: 'file:///README.md',
  handler: async (uri) => {
    // Implementation
  },
})
```

## defineMcpPrompt

Define an MCP prompt that will be automatically registered.

### Signature

```typescript
function defineMcpPrompt<const Args extends PromptArgsRawShape | undefined = undefined>(
  definition: McpPromptDefinition<Args>
): McpPromptDefinition<Args>
```

### Parameters

- `definition`: Prompt definition object

### Returns

The prompt definition

### Example

```typescript
export default defineMcpPrompt({
  name: 'greeting',
  handler: async () => {
    return {
      messages: [{
        role: 'user',
        content: { type: 'text', text: 'Hello!' },
      }],
    }
  },
})
```

## defineMcpHandler

Define a custom MCP handler with its own route.

### Signature

```typescript
function defineMcpHandler(
  options: McpHandlerOptions
): McpHandlerOptions
```

### Parameters

- `options`: Handler options object

### Returns

The handler options

### Example

```typescript
export default defineMcpHandler({
  name: 'custom',
  version: '1.0.0',
  route: '/mcp/custom',
  tools: [tool1, tool2],
})
```

## Types

### McpToolDefinition

```typescript
interface McpToolDefinition<
  InputSchema extends ZodRawShape = ZodRawShape,
  OutputSchema extends ZodRawShape = ZodRawShape,
> {
  name: string
  title?: string
  description?: string
  inputSchema: InputSchema
  outputSchema?: OutputSchema
  annotations?: ToolAnnotations
  _meta?: Record<string, unknown>
  handler: McpToolCallback<InputSchema>
}
```

### McpResourceDefinition

```typescript
interface McpResourceDefinition {
  name: string
  title?: string
  uri: string | ResourceTemplate
  metadata?: ResourceMetadata
  handler: ReadResourceCallback | ReadResourceTemplateCallback
}
```

### McpPromptDefinition

```typescript
interface McpPromptDefinition<Args extends PromptArgsRawShape | undefined = undefined> {
  name: string
  title?: string
  description?: string
  argsSchema?: Args
  handler: McpPromptCallback<Args>
}
```

### McpHandlerOptions

```typescript
interface McpHandlerOptions {
  name: string
  version?: string
  route?: string
  browserRedirect?: string
  tools?: Array<McpToolDefinition<any, any>>
  resources?: McpResourceDefinition[]
  prompts?: McpPromptDefinition[]
}
```

### ModuleOptions

```typescript
interface ModuleOptions {
  enabled?: boolean
  route?: string
  browserRedirect?: string
  name?: string
  version?: string
  dir?: string
}
```

## Exported Types

All types are exported from `@hrcd/mcp` and can be imported using:

```typescript
import type {
  McpToolDefinition,
  McpToolCallback,
  McpResourceDefinition,
  McpPromptDefinition,
  McpPromptCallback,
  McpHandlerOptions,
  McpHandlerDefinition,
} from '@hrcd/mcp'
```

## Runtime Config

Access runtime configuration:

```typescript
const config = useRuntimeConfig(event).mcp

// config.enabled: boolean
// config.route: string
// config.browserRedirect: string
// config.name: string
// config.version: string
// config.dir: string
```

## Hooks

### mcp:definitions:paths

Hook to extend definition paths.

```typescript
nuxt.hook('mcp:definitions:paths', (paths) => {
  paths.tools.push('custom/tools')
  paths.resources.push('custom/resources')
  paths.prompts.push('custom/prompts')
})
```

## Next Steps

- [Configuration Reference](/reference/configuration) - Complete configuration options
- [Tools](/core-concepts/tools) - Learn more about tools
- [Resources](/core-concepts/resources) - Learn more about resources
