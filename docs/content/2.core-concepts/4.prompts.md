---
title: Prompts
description: Create reusable prompts for AI assistants with optional arguments.
navigation:
  icon: i-lucide-message-square
seo:
  title: Prompts - Nuxt MCP Module
  description: Create reusable MCP prompts with optional arguments and full type safety.
---

## What are Prompts?

Prompts are reusable message templates that can be used by AI assistants. They can include dynamic arguments and return pre-formatted messages.

## Simple Prompt (No Arguments)

Create a prompt without arguments:

```typescript [server/mcp/prompts/greeting.ts]
export default defineMcpPrompt({
  name: 'greeting',
  title: 'Greeting',
  description: 'Generate a personalized greeting message',
  handler: async () => {
    const hour = new Date().getHours()
    const timeOfDay = hour < 12 ? 'morning' : hour < 18 ? 'afternoon' : 'evening'

    return {
      messages: [{
        role: 'user',
        content: {
          type: 'text',
          text: `Good ${timeOfDay}! How can I help you today?`,
        },
      }],
    }
  },
})
```

## Prompt with Arguments

Create a prompt that accepts arguments:

```typescript [server/mcp/prompts/summarize.ts]
import { z } from 'zod'

export default defineMcpPrompt({
  name: 'summarize',
  title: 'Text Summarizer',
  description: 'Summarize any text content',
  argsSchema: {
    text: z.string().describe('The text to summarize'),
    maxLength: z.string().optional().describe('Maximum length of summary in words'),
  },
  handler: async ({ text, maxLength }) => {
    const words = text.split(/\s+/)
    const maxWords = maxLength ? Number.parseInt(maxLength) : Math.ceil(words.length * 0.3)
    const summary = words.slice(0, maxWords).join(' ')

    return {
      messages: [{
        role: 'user',
        content: {
          type: 'text',
          text: `Summary (${maxWords} words): ${summary}${words.length > maxWords ? '...' : ''}`,
        },
      }],
    }
  },
})
```

## Prompt Structure

A prompt definition consists of:

::code-group

```typescript [Simple Prompt]
export default defineMcpPrompt({
  name: 'prompt-name',  // Unique identifier
  handler: async () => { // Handler function
    return { messages: [...] }
  },
})
```

```typescript [Prompt with Arguments]
export default defineMcpPrompt({
  name: 'prompt-name',
  title: 'Prompt Title',        // Human-readable title
  description: 'Description',   // What the prompt does
  argsSchema: { ... },          // Zod schema for arguments
  handler: async (args) => {    // Handler with arguments
    return { messages: [...] }
  },
})
```

::

## Arguments Schema

Use Zod to define and validate prompt arguments:

```typescript [server/mcp/prompts/translate.ts]
import { z } from 'zod'

export default defineMcpPrompt({
  name: 'translate',
  argsSchema: {
    // Required string argument
    text: z.string().describe('Text to translate'),

    // Required enum argument
    targetLanguage: z.enum(['en', 'fr', 'es', 'de']).describe('Target language'),

    // Optional argument
    sourceLanguage: z.string().optional().describe('Source language (auto-detect if not provided)'),

    // Optional with default
    formality: z.enum(['formal', 'informal']).default('formal'),
  },
  handler: async ({ text, targetLanguage, sourceLanguage, formality }) => {
    // Implementation
  },
})
```

### Common Argument Types

::prose-table
| Zod Type | Example | Description |
|----------|---------|-------------|
| `z.string()` | `z.string().min(1)` | String with validation |
| `z.enum()` | `z.enum(['a', 'b'])` | Enumeration |
| `z.optional()` | `z.string().optional()` | Optional field |
| `z.default()` | `z.string().default('value')` | Field with default |

::

::callout{icon="i-lucide-info" color="info"}
**Note**: Prompt arguments must be strings. Use `z.string()` and convert to other types in your handler if needed.
::

## Handler Function

The handler receives validated arguments (if `argsSchema` is provided) and returns messages:

```typescript
// Prompt without arguments
handler: async () => {
  return {
    messages: [{
      role: 'user',
      content: {
        type: 'text',
        text: 'Message text',
      },
    }],
  }
}

// Prompt with arguments
handler: async (args, extra) => {
  // args: Validated arguments matching argsSchema
  // extra: Request handler extra information

  return {
    messages: [{
      role: 'user',
      content: {
        type: 'text',
        text: 'Message text',
      },
    }],
  }
}
```

## Message Roles

Prompts can return messages with different roles:

::code-group

```typescript [User Message]
return {
  messages: [{
    role: 'user',
    content: {
      type: 'text',
      text: 'User message',
    },
  }],
}
```

```typescript [Assistant Message]
return {
  messages: [{
    role: 'assistant',
    content: {
      type: 'text',
      text: 'Assistant message',
    },
  }],
}
```

```typescript [System Message]
return {
  messages: [{
    role: 'system',
    content: {
      type: 'text',
      text: 'System message',
    },
  }],
}
```

::

## Multiple Messages

Return multiple messages in sequence:

```typescript [server/mcp/prompts/conversation.ts]
export default defineMcpPrompt({
  name: 'conversation-starter',
  argsSchema: {
    topic: z.string().describe('Conversation topic'),
  },
  handler: async ({ topic }) => {
    return {
      messages: [
        {
          role: 'system',
          content: {
            type: 'text',
            text: 'You are a helpful assistant.',
          },
        },
        {
          role: 'user',
          content: {
            type: 'text',
            text: `Let's discuss ${topic}.`,
          },
        },
      ],
    }
  },
})
```

## Advanced Examples

### Code Review Prompt

```typescript [server/mcp/prompts/code-review.ts]
import { z } from 'zod'

export default defineMcpPrompt({
  name: 'code-review',
  title: 'Code Review',
  description: 'Generate a code review prompt',
  argsSchema: {
    code: z.string().describe('Code to review'),
    language: z.string().describe('Programming language'),
    focus: z.enum(['performance', 'security', 'style', 'all']).default('all'),
  },
  handler: async ({ code, language, focus }) => {
    const focusText = focus === 'all'
      ? 'performance, security, and style'
      : focus

    return {
      messages: [{
        role: 'user',
        content: {
          type: 'text',
          text: `Please review this ${language} code focusing on ${focusText}:\n\n\`\`\`${language}\n${code}\n\`\`\``,
        },
      }],
    }
  },
})
```

### Documentation Prompt

```typescript [server/mcp/prompts/documentation.ts]
import { z } from 'zod'

export default defineMcpPrompt({
  name: 'documentation',
  title: 'Generate Documentation',
  description: 'Create documentation for code',
  argsSchema: {
    code: z.string().describe('Code to document'),
    style: z.enum(['jsdoc', 'tsdoc', 'markdown']).default('jsdoc'),
  },
  handler: async ({ code, style }) => {
    const prompt = style === 'markdown'
      ? `Generate markdown documentation for this code:\n\n\`\`\`\n${code}\n\`\`\``
      : `Generate ${style.toUpperCase()} documentation for this code:\n\n\`\`\`\n${code}\n\`\`\``

    return {
      messages: [{
        role: 'user',
        content: {
          type: 'text',
          text: prompt,
        },
      }],
    }
  },
})
```

### Template-Based Prompt

```typescript [server/mcp/prompts/email.ts]
import { z } from 'zod'

export default defineMcpPrompt({
  name: 'email-template',
  title: 'Email Template',
  description: 'Generate email from template',
  argsSchema: {
    recipient: z.string().describe('Recipient name'),
    subject: z.string().describe('Email subject'),
    tone: z.enum(['formal', 'casual', 'friendly']).default('friendly'),
  },
  handler: async ({ recipient, subject, tone }) => {
    const greeting = tone === 'formal'
      ? 'Dear'
      : tone === 'casual'
        ? 'Hi'
        : 'Hello'

    return {
      messages: [{
        role: 'user',
        content: {
          type: 'text',
          text: `Write an email:\n\nTo: ${recipient}\nSubject: ${subject}\nTone: ${tone}\n\nGreeting: ${greeting}`,
        },
      }],
    }
  },
})
```

## File Organization

Organize your prompts in the `server/mcp/prompts/` directory:

```
server/
└── mcp/
    └── prompts/
        ├── greeting.ts
        ├── summarize.ts
        ├── translate.ts
        ├── code-review.ts
        └── documentation.ts
```

Each file should export a default prompt definition.

## Type Safety

The module provides full TypeScript type inference:

```typescript
// Argument types are inferred from argsSchema
handler: async ({ text, maxLength }) => {
  // text is typed as string
  // maxLength is typed as string | undefined
}
```

## Best Practices

1. **Use descriptive names**: Make prompt names clear and specific
2. **Provide descriptions**: Help users understand what the prompt does
3. **Validate arguments**: Use Zod schemas to ensure valid input
4. **Handle errors**: Return appropriate error messages when needed
5. **Keep prompts focused**: Each prompt should have a single, clear purpose

## Next Steps

- [Tools](/core-concepts/tools) - Create tools to perform actions
- [Resources](/core-concepts/resources) - Create resources to expose data
- [Handlers](/core-concepts/handlers) - Create custom MCP endpoints
- [Examples](/examples/common-patterns) - See more prompt examples
